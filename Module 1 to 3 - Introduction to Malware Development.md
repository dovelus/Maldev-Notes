### Windows Malware Development

The Windows malware development scene has shifted within the past few years and is now highly focused on evading host-based security solutions such as Antivirus (AV) and Endpoint Detection and Response (EDR). With the advancement in technology, it is no longer sufficient to build malware that executes suspicious commands or performs "malware-like" actions.

MalDev Academy will teach you to build evasive malware that can be used in real engagements. The modules will also call out [non-opsec](https://redteam.guide/docs/definitions/#:~:text=OPSEC%20or%20Operational%20Security%20is,that%20eliminate%20or%20reduce%20adversary) actions or actions that will likely have your malware detected by security solutions or blue teams.
### Malware Development Life Cycle

Fundamentally malware is a software designed to perform certain actions. Successful software development implementations require a process known as Software Development Life Cycle (SDLC), Similarly, a well-built and complex malware will require a tailored version of the SDLC referred as the Malware Development Life Cycle (MDLC).
1. **Development** - Begin the development or refinement of functionality within the malware
2. **Testing** - Perform tests to uncover hidden bugs within the so-far developed code.
3. **Offline AV/EDR Testing** - Run the developed malware against as many security products as possible. It's important that the testing is conducted offline to ensure no samples are sent to the security vendors. Using Microsoft Defender, this is achieved by disabling the automated sample submissions & cloud-delivered protection option.
4. **Online AV/EDR Testing** - Run the developed malware against the security products with internet connectivity. Cloud engines are often key components in AVs/EDRs and therefore testing your malware against these components is crucial to gain more accurate results. ==Be cautious as this step may result in samples being sent to the security solution's cloud engine.==
5. **IoC (Indicators of Compromise) Analysis** - In this stage, you become the threat hunter or malware analyst. Analyze the malware and pull out IoCs that can potentially be used to detect or signature the malware.
6. Return to step 1

## Required Tools

Install the following tools:

- [Visual Studio](https://visualstudio.microsoft.com/) - This is the development environment where the coding & compiling process will occur. Install the C/C++ Runtime.
- [x64dbg](https://x64dbg.com/) - x64dbg is a debugger that will be used throughout the modules to get an internal understanding of the developed malware.
- [PE-Bear](https://github.com/hasherezade/pe-bear) - PE-bear is a multiplatform reversing tool for PE files. It will also be used to assess the developed malware and look for suspicious indicators.
- [Process Hacker 2](https://processhacker.sourceforge.io/downloads.php) - Process Hacker is a powerful, multi-purpose tool that helps monitor system resources, debug software and detect malware.
- [Msfvenom](https://www.offensive-security.com/metasploit-unleashed/msfvenom/) - Msfvenom is a command line interface tool that is used to create, manipulate, and output payloads.
